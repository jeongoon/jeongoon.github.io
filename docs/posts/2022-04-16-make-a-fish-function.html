<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" class="font-sans">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

    <meta name="author" content="Myoungjin Jeon">


    <meta name="description" content="create some function to utilize your daily shell (fish)">


    <meta name="keywords" content="fish, function, util">

   <!-- even though I setup @media to make change all the fixed font size;
        FF on mobile -- incorrectly -- scales font size again.
        This happends when:

        1. default font size variable (ex: 2vw, 3.5vw)
        2. the width of some division is larger than original width of website
           should be (or designed to be)
        3. now we have larger webstie width and mobile webbrowser scale down the
           website
        4. now we have too small size font
        5. FF scales up the font, which is irrelevant to the other normal divs.

     so I ended up re-insert below meta line again to correct them.
    -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>MJ's kind weird Code - (WIP) "Good" "So So" "Bad" about fish shell function</title>
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Atma:wght@300;500;700&family=Barlow+Condensed:ital,wght@0,100;0,300;0,600;1,100;1,500;1,600&family=Gamja+Flower&family=Hubballi&family=Jost:ital,wght@0,100;0,300;0,500;0,800;1,100;1,300;1,500;1,800&family=Unica+One&display=swap');
    </style> 
    <link rel="stylesheet" type="text/css" href="../css/12Apr2022.css" />
    <link rel="stylesheet" type="text/css" href="../css/12Apr2022.code.css" />
  </head>
  <body class="surface-color">
    <header id="main-header">
      <div id="logo" class="font-atma primary-color">
        <a href="../">MJ's Kind Weird Code</a>
      </div>
      <div id="page-title">
        <p> ðŸ“° (WIP) "Good" "So So" "Bad" about fish shell function
        </p>
      </div>
      <nav id="main-nav" class="font-menu-title">
        <a href="../">Home</a>
        <a href="../about.html">About</a>
        <a href="../contact.html">Contact</a>
        <a href="../archive.html">Archive</a>
      </nav>
    </header>

    <div id="content" class="font-friendly">
            <div class="info">
    Posted on April 16, 2022
    
        by Myoungjin Jeon
    
</div>
<div class="info">
  
  Tags: <a title="All pages tagged 'fish'." href="../tags/fish.html">fish</a>, <a title="All pages tagged 'function'." href="../tags/function.html">function</a>, <a title="All pages tagged 'util'." href="../tags/util.html">util</a>
  
</div>

<h2 id="credit-or-more-articles">Credit or More Articles</h2>
<ul>
<li><a href="https://nicolas-van.github.io/programming-with-fish-shell">Nicolas Vanhorenâ€™s Blog</a>
Nice introduction to fish shell programming</li>
</ul>
<h1 id="fish-is-another-shell">Fish is another shell</h1>
<p>Iâ€™m too lazy to change my shell. I used to use only bash shell back until 2009?.
I heard about tcsh and ksh at the time, but bash was kind of a new standard in
linux world.</p>
<p>Now, maybe zsh rules the shell-world, there is another competitor called fish.
I didnâ€™t research about fish shell.</p>
<p>However, one thing I really like about fish shell is that fish shell has nice
<em>default settings</em> out of box.</p>
<p>So sometimes, even if I installed new fish shell in a new box. I have no problem
with using fish shell.</p>
<p>Iâ€™m missing some bash history substitution like though:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bash</span><span class="op">&gt;</span> echo 123</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="ex">bassh</span><span class="op">&gt;</span> ^123^456</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="bu">echo</span> 456</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="ex">456</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">bash</span><span class="op">&gt;</span></span></code></pre></div>
<p>When I found those tricks in a book, I felt like I found some treasure in history.
there were more (!$, !!) but I have forgotten many ðŸ˜‰. Frankly, I donâ€™t miss those
these days, but I cannot deny it is nostalsic.</p>
<h2 id="how-about-script-in-fish">How about script in fish?</h2>
<p>I heard that fish is not good for making script. but I guess this is too old
story as itâ€™s been at least 10 years from now on. I hope that this is not true.</p>
<h2 id="good">Good</h2>
<h3 id="it-has-a-clean-syntax">It has a clean syntax</h3>
<h3 id="well-organized-directory-structure">well organized directory structure</h3>
<p>like ~~/.config/fish/functions/</p>
<h3 id="builtin-powerful-functions">builtin powerful functions</h3>
<p><em>math</em>, <em>string</em></p>
<h2 id="so-so">So So</h2>
<h3 id="index-starting-from-1-not-0">index starting from 1 not 0</h3>
<p>this is half funny, half inconveient.</p>
<h3 id="command-substitution-not-as-powerful-as-bash">command substitution not as powerful as bash</h3>
<p>There is a traditional way to copy but reserve the file attributes. (access time,
creation time, ownership, etc) like below</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bash</span><span class="op">&gt;</span> touch a  b c</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">bash</span><span class="op">&gt;</span> mkdir dest</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">bash</span><span class="op">&gt;</span> tar cf <span class="at">-</span> a b c <span class="kw">|</span> <span class="kw">(</span><span class="bu">cd</span> dest<span class="kw">;</span> <span class="fu">tar</span> xvf <span class="at">-</span><span class="kw">)</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">bash</span><span class="op">&gt;</span> <span class="er">(</span><span class="bu">cd</span> dest<span class="kw">;</span> <span class="fu">ls</span> <span class="at">-l</span><span class="kw">)</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="ex">-rw-r--r--</span> 1 myoungjin users 0 Apr 16 21:41 a</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="ex">-rw-r--r--</span> 1 myoungjin users 0 Apr 16 21:41 b</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="ex">-rw-r--r--</span> 1 myoungjin users 0 Apr 16 21:41 c</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="fu">bash</span><span class="op">&gt;</span> ls <span class="at">-l</span> a b c</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="ex">-rw-r--r--</span> 1 myoungjin users 0 Apr 16 21:41 a</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="ex">-rw-r--r--</span> 1 myoungjin users 0 Apr 16 21:41 b</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="ex">-rw-r--r--</span> 1 myoungjin users 0 Apr 16 21:41 c</span></code></pre></div>
<p>As you can see above, sometimes grouped command in bash very useful.
But, AFAIK, fish cannot do this or prevent this kind of behaviour.</p>
<h2 id="bad">Bad</h2>
<h3 id="unusual-variable-scope">Unusual variable scope</h3>
<p>Actually, this is very powerful concept in fish, however it is not very common,
In other words, it is confusing.</p>
<p>Fish has three different types of variable scopes.</p>
<ul>
<li>Universal</li>
<li>global</li>
<li>local</li>
</ul>
<h2 id="first-few-functions">First Few functions</h2>
<blockquote>
<p><strong>WARNING:</strong> A function is not an individual programme.</p>
</blockquote>
<ul>
<li>It is part of your shell
<ul>
<li>if we are using <code class="verbatim">exit</code> in a function, it will actually shut down your current session.</li>
</ul></li>
<li>we cannot control it as a process.
this is not a child process, if we are using <code class="verbatim">sleep</code> in a function, it will actually sleep <em>your current session</em>.</li>
</ul>
<div class="sourceCode" id="cb3" data-org-language="sh"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">fish</span><span class="op">&gt;</span> function sleep_10sec<span class="kw">;</span> <span class="fu">sleep</span> 10<span class="kw">;</span> <span class="ex">end</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="ex">fish</span><span class="op">&gt;</span> sleep_10sec <span class="kw">&amp;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="ex">...</span> paused ...</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="ex">^C</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="ex">fish:</span> Job 1, <span class="st">'echo_e &amp;'</span> has ended</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="ex">fish</span><span class="op">&gt;</span> # note I canceled by pressing Ctrl-C on x86_64 linux</span></code></pre></div>
<h3 id="function-command">function command</h3>
<ol>
<li><p>-d option</p></li>
<li><p>functions directory for permanent access</p></li>
<li><p>still need to source</p></li>
</ol>
<h2 id="function-as-aliasing">function as aliasing</h2>
<h3 id="abbr">abbr</h3>
<h3 id="function">function</h3>
<h2 id="elm-function">elm function</h2>
<h3 id="what-is-elem">what is elem</h3>
<h3 id="lets-remind-unix-principle">letâ€™s remind UNIX principle</h3>
<h3 id="where-can-i-use">where can I use?</h3>

    </div>

    <footer id="main-footer">
      Site proudly generated by
      <a href="http://jaspervdj.be/hakyll">Hakyll</a>
    </footer>
  </body>
</html>

<!--
    Todo:
    add basic parallax and add some gradation??
    
    -->
